# Правильная установка JSON-server

Ошибка возникает потому, что флаг `-g` нужно ставить ДО команды `install`, а не после.

## Правильная команда для установки:

```bash
sudo apt update
sudo apt install nodejs npm
sudo npm install -g json-server
```

## Пошаговая инструкция:

### 1. Сначала установите Node.js и npm:
```bash
sudo apt update
sudo apt install nodejs npm
```

### 2. Проверьте установку:
```bash
node --version
npm --version
```

### 3. Установите json-server глобально:
```bash
sudo npm install -g json-server
```

### 4. Проверьте установку json-server:
```bash
json-server --version
```

## Если не работает через apt, используйте эти методы:

### Альтернативный способ 1 - Установка через npm без прав суперпользователя:
```bash
npm install json-server --save-dev
```

### Альтернативный способ 2 - Использование npx (без установки):
```bash
npx json-server --watch db.json --port 3001
```

## Создайте файл базы данных:

### 1. Создайте файл `db.json`:
```bash
echo '{"users": []}' > db.json
```

### 2. Запустите сервер:
```bash
json-server --watch db.json --port 3001
```

## Если возникают проблемы с правами:

### Исправление прав npm (если нужно):
```bash
# Создайте директорию для глобальных пакетов
mkdir ~/.npm-global

# Настройте npm использовать эту директорию
npm config set prefix '~/.npm-global'

# Добавьте путь в переменную PATH
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc

# Теперь установите без sudo
npm install -g json-server
```

## Проверка работы:

После успешной установки вы должны видеть:
```
$ json-server --version
0.17.4
```

## Запуск сервера:

```bash
json-server --watch db.json --port 3001
```

Вы должны увидеть сообщение:
```
\{^_^}/ hi!

Loading db.json
Done

Resources
http://localhost:3001/users

Home
http://localhost:3001
```

Теперь ваш JSON-server работает и готов принимать данные!